import{d as N,z as B,r as m,a as C,e as t,F as D,g as F,j as y,B as E,C as G,t as K,D as W,o as b,_ as A,E as H,u as P,c as O,x as Q,G as Y,n as x,H as f,J as T,K as $,M as X,h as R,f as I,l as w,L as U,w as Z,k as M}from"./index-CVtsP_hU.js";const ee={class:"add-items"},te={class:"move-buttons"},se=["onClick"],ne=["onClick"],ae=["value","onChange"],oe=["onClick"],ie=N({__name:"AddOrderedInputs",props:{modelValue:{default:()=>[""]},modelModifiers:{}},emits:["update:modelValue"],setup(S){const a=B(S,"modelValue"),i=m(0),V=()=>{a.value.push("")},h=s=>{a.value.splice(s,1)},v=(s,l)=>{a.value[s]=l.target.value},p=s=>{if(s>0){const l=a.value[s];a.value[s]=a.value[s-1],a.value[s-1]=l,i.value=s}},u=s=>{if(s<a.value.length-1){const l=a.value[s];a.value[s]=a.value[s+1],a.value[s+1]=l,i.value=s}};return(s,l)=>(b(),C("div",ee,[(b(!0),C(D,null,F(a.value,(g,o)=>(b(),C("div",{key:g},[t("div",te,[t("button",{class:"secondary",type:"button",onClick:d=>p(o)},[y(E)],8,se),t("button",{class:"secondary",type:"button",onClick:d=>u(o)},[y(G)],8,ne)]),t("span",null,K(o+1)+". ",1),t("input",{type:"text",value:g,onChange:d=>v(o,d)},null,40,ae),t("button",{class:"secondary close",type:"button",onClick:d=>h(o)},[y(W)],8,oe)]))),128)),t("button",{class:"secondary",type:"button",onClick:V},"Add new item")]))}}),q=A(ie,[["__scopeId","data-v-78d36f5a"]]),le={class:"inputs"},ue=["value","onChange"],re=["value","onChange"],ce=["value","onChange"],de=["onClick"],ve=N({__name:"AddIngredients",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(S){const a=B(S,"modelValue"),i=(u,s)=>{a.value[u].name=s.target.value},V=(u,s)=>{a.value[u].quantity=parseInt(s.target.value)},h=(u,s)=>{a.value[u].unit=s.target.value},v=u=>{a.value.splice(u,1)},p=()=>{a.value.push({quantity:void 0,unit:void 0,name:void 0})};return(u,s)=>(b(),C("div",le,[(b(!0),C(D,null,F(a.value,(l,g)=>(b(),C("div",{class:"input",key:g},[t("input",{class:"quantity",type:"number",value:l.quantity,onChange:o=>V(g,o)},null,40,ue),t("select",{class:"unit",value:l.unit,onChange:o=>h(g,o)},s[1]||(s[1]=[H('<option value="mg" data-v-e47f78f7>mg</option><option value="g" data-v-e47f78f7>g</option><option value="tbsp" data-v-e47f78f7>tbsp</option><option value="tsp" data-v-e47f78f7>tsp</option><option value="ml" data-v-e47f78f7>ml</option><option value="oz" data-v-e47f78f7>oz</option>',6)]),40,re),t("input",{class:"name",type:"text",value:l.name,onChange:o=>i(g,o)},null,40,ce),t("button",{class:"secondary close",type:"button",onClick:o=>v(g)},[y(W)],8,de)]))),128)),t("button",{class:"secondary",type:"button",onClick:s[0]||(s[0]=l=>p())},"Add new ingredient")]))}}),pe=A(ve,[["__scopeId","data-v-e47f78f7"]]),me={class:"form-container body"},ge={class:"progress-bar"},fe={class:"progress-text"},be={class:"form-section"},ye={class:"input-group"},ke={class:"input-group"},_e={class:"number-input-group"},Ce={class:"time-input"},Ve={class:"time-input"},Se={class:"servings-input"},he={class:"form-section"},Te={class:"input-group"},$e={class:"form-section"},Re={class:"form-section"},Ie={class:"form-section"},we={class:"form-navigation"},Ue=N({__name:"RecipeForm",props:{initialRecipe:{type:Object,default:null},draftKey:{type:String,default:"recipe-draft"}},emits:["submit","change"],setup(S,{emit:a}){const i=S,V=a,h=P(),v=m(""),p=m(""),u=m(0),s=m(0),l=m(0),g=O(()=>h.tags),o=m([]),d=m([{name:""}]),k=m([""]),_=m([""]),z=O(()=>{let r=4,e=0;return e=n.value=="basic"?0:e,e=n.value=="tags"?1:e,e=n.value=="ingredients"?2:e,e=n.value=="instructions"?3:e,e=n.value=="notes"?4:e,Math.round(e/r*100)}),n=m("basic");Q(()=>{const r=JSON.parse(localStorage.getItem(i.draftKey)||"{}");Object.keys(r).length?(v.value=r.name||"",p.value=r.description||"",u.value=r.prepTime||0,s.value=r.cookTime||0,l.value=r.servings||0,o.value=r.tags||[],d.value=r.ingredients||[],k.value=r.instructions||[],_.value=r.notes||[]):i.initialRecipe&&(v.value=i.initialRecipe.name,p.value=i.initialRecipe.description||"",u.value=i.initialRecipe.prepTime||0,s.value=i.initialRecipe.cookTime||0,l.value=i.initialRecipe.servings||0,o.value=i.initialRecipe.tags||[],d.value=i.initialRecipe.ingredients||[],k.value=i.initialRecipe.instructions||[],_.value=i.initialRecipe.notes||[])}),Y([v,p,u,s,l,o,d,k,_],()=>{const r={name:v.value,description:p.value,prepTime:u.value,cookTime:s.value,servings:l.value,tags:o.value,ingredients:d.value,instructions:k.value,notes:_.value};localStorage.setItem(i.draftKey,JSON.stringify(r)),V("change",r)},{deep:!0});const j=()=>{var e;const r={id:((e=i.initialRecipe)==null?void 0:e.id)||0,name:v.value,description:p.value,prepTime:u.value,cookTime:s.value,servings:l.value,image:"",tags:o.value,ingredients:d.value,instructions:k.value,notes:_.value};V("submit",r),localStorage.removeItem(i.draftKey)},J=()=>{switch(n.value){case"basic":n.value="tags";break;case"tags":n.value="ingredients";break;case"ingredients":n.value="instructions";break;case"instructions":n.value="notes";break}},L=()=>{switch(n.value){case"notes":n.value="instructions";break;case"instructions":n.value="ingredients";break;case"ingredients":n.value="tags";break;case"tags":n.value="basic";break}};return(r,e)=>(b(),C("div",me,[t("div",ge,[t("div",{class:"progress-fill",style:x({width:`${z.value}%`})},null,4),t("span",fe,K(z.value)+"% Complete",1)]),t("form",{onSubmit:Z(j,["prevent"]),class:"recipe-form"},[f(t("div",be,[e[14]||(e[14]=t("h2",{class:"section-title"},"Let's Start with the Basics! 🌟",-1)),t("div",ye,[e[9]||(e[9]=t("label",{for:"name"},"What's your recipe called?",-1)),f(t("input",{type:"text",name:"name",id:"name",required:"","onUpdate:modelValue":e[0]||(e[0]=c=>v.value=c),placeholder:"Something delicious...",class:"fancy-input"},null,512),[[$,v.value]])]),t("div",ke,[e[10]||(e[10]=t("label",{for:"description"},"Tell us about your creation!",-1)),f(t("textarea",{name:"description",id:"description","onUpdate:modelValue":e[1]||(e[1]=c=>p.value=c),placeholder:"What makes this recipe special?",class:"fancy-input"},null,512),[[$,p.value]])]),t("div",_e,[t("div",Ce,[e[11]||(e[11]=t("label",{for:"prepTime"},"Prep Time (mins)",-1)),f(t("input",{type:"number",name:"prepTime",id:"prepTime","onUpdate:modelValue":e[2]||(e[2]=c=>u.value=c),class:"fancy-input",min:"0"},null,512),[[$,u.value]])]),t("div",Ve,[e[12]||(e[12]=t("label",{for:"cookTime"},"Cook Time (mins)",-1)),f(t("input",{type:"number",name:"cookTime",id:"cookTime","onUpdate:modelValue":e[3]||(e[3]=c=>s.value=c),class:"fancy-input",min:"0"},null,512),[[$,s.value]])]),t("div",Se,[e[13]||(e[13]=t("label",{for:"servings"},"Servings",-1)),f(t("input",{type:"number",name:"servings",id:"servings","onUpdate:modelValue":e[4]||(e[4]=c=>l.value=c),class:"fancy-input",min:"1"},null,512),[[$,l.value]])])])],512),[[T,n.value==="basic"]]),f(t("div",he,[e[16]||(e[16]=t("h2",{class:"section-title"},"Categorize Your Recipe 🏷️",-1)),t("div",Te,[e[15]||(e[15]=t("label",{for:"tags"},"Add tags to organize your recipe",-1)),y(X,{modelValue:o.value,"onUpdate:modelValue":e[5]||(e[5]=c=>o.value=c),options:g.value,class:"fancy-select"},null,8,["modelValue","options"])])],512),[[T,n.value==="tags"]]),f(t("div",$e,[e[17]||(e[17]=t("h2",{class:"section-title"},"What Goes Into It? 🥗",-1)),y(pe,{modelValue:d.value,"onUpdate:modelValue":e[6]||(e[6]=c=>d.value=c),class:"ingredients-list"},null,8,["modelValue"])],512),[[T,n.value==="ingredients"]]),f(t("div",Re,[e[18]||(e[18]=t("h2",{class:"section-title"},"How Do We Make It? 👩‍🍳",-1)),y(q,{modelValue:k.value,"onUpdate:modelValue":e[7]||(e[7]=c=>k.value=c),class:"instructions-list"},null,8,["modelValue"])],512),[[T,n.value==="instructions"]]),f(t("div",Ie,[e[19]||(e[19]=t("h2",{class:"section-title"},"Any Special Tips? 💡",-1)),y(q,{modelValue:_.value,"onUpdate:modelValue":e[8]||(e[8]=c=>_.value=c),class:"notes-list"},null,8,["modelValue"])],512),[[T,n.value==="notes"]]),t("div",we,[n.value!=="basic"?(b(),R(U,{key:0,type:"button",onClick:L,class:"nav-button prev secondary"},{default:w(()=>e[20]||(e[20]=[M(" ← Previous ")])),_:1})):I("",!0),n.value!=="notes"?(b(),R(U,{key:1,type:"button",onClick:J,class:"nav-button next secondary"},{default:w(()=>e[21]||(e[21]=[M(" Next → ")])),_:1})):I("",!0),n.value==="notes"?(b(),R(U,{key:2,type:"submit",class:"submit-button"},{default:w(()=>e[22]||(e[22]=[M(" Save Recipe 🎉 ")])),_:1})):I("",!0)])],32)]))}}),Ae=A(Ue,[["__scopeId","data-v-7a03cdbf"]]);export{Ae as R};
