import{_ as O,a as u,o as i,e,d as E,r as y,u as A,F as M,j as c,U as R,l as r,V as N,f as V,t as x,y as q,g as F,H as z,W as J,k as P,x as Y,X as G,Y as H,Z as $,A as W,h as S,m as h}from"./index-CVtsP_hU.js";const X={},Z={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"};function K(C,a){return i(),u("svg",Z,a[0]||(a[0]=[e("path",{fill:"currentColor",d:"M12 21q-3.75 0-6.375-2.625T3 12t2.625-6.375T12 3q.35 0 .688.025t.662.075q-1.025.725-1.638 1.888T11.1 7.5q0 2.25 1.575 3.825T16.5 12.9q1.375 0 2.525-.613T20.9 10.65q.05.325.075.662T21 12q0 3.75-2.625 6.375T12 21"},null,-1)]))}const Q=O(X,[["render",K]]),ee={},te={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"};function oe(C,a){return i(),u("svg",te,a[0]||(a[0]=[e("path",{fill:"currentColor",d:"M12 17q-2.075 0-3.537-1.463T7 12t1.463-3.537T12 7t3.538 1.463T17 12t-1.463 3.538T12 17M2 13q-.425 0-.712-.288T1 12t.288-.712T2 11h2q.425 0 .713.288T5 12t-.288.713T4 13zm18 0q-.425 0-.712-.288T19 12t.288-.712T20 11h2q.425 0 .713.288T23 12t-.288.713T22 13zm-8-8q-.425 0-.712-.288T11 4V2q0-.425.288-.712T12 1t.713.288T13 2v2q0 .425-.288.713T12 5m0 18q-.425 0-.712-.288T11 22v-2q0-.425.288-.712T12 19t.713.288T13 20v2q0 .425-.288.713T12 23M5.65 7.05L4.575 6q-.3-.275-.288-.7t.288-.725q.3-.3.725-.3t.7.3L7.05 5.65q.275.3.275.7t-.275.7t-.687.288t-.713-.288M18 19.425l-1.05-1.075q-.275-.3-.275-.712t.275-.688q.275-.3.688-.287t.712.287L19.425 18q.3.275.288.7t-.288.725q-.3.3-.725.3t-.7-.3M16.95 7.05q-.3-.275-.288-.687t.288-.713L18 4.575q.275-.3.7-.288t.725.288q.3.3.3.725t-.3.7L18.35 7.05q-.3.275-.7.275t-.7-.275M4.575 19.425q-.3-.3-.3-.725t.3-.7l1.075-1.05q.3-.275.712-.275t.688.275q.3.275.288.688t-.288.712L6 19.425q-.275.3-.7.288t-.725-.288"},null,-1)]))}const ne=O(ee,[["render",oe]]),se={key:0},le={key:1},re={key:2,class:"duplicate-info"},ie={class:"action"},ae={key:0},ue=E({__name:"ImportExportButtons",setup(C){const a=y(),b=y(),s=y([]),k=y("append"),m=y([]),o=y(""),f=y(!1),g=A(),j=()=>{var n;(n=a.value)==null||n.open()},I=n=>{var t;k.value=n,(t=a.value)==null||t.close(),B()},B=()=>{const n=document.createElement("input");n.type="file",n.accept=".json",n.onchange=()=>{var l;const t=(l=n.files)==null?void 0:l[0];if(t){const p=new FileReader;p.onload=()=>{var d;try{const w=p.result,v=JSON.parse(w);if(!Array.isArray(v))throw new Error("The file does not contain an array of recipes");if(!v.every(T=>T))throw new Error("The file does not contain an array of recipes with the expected fields");m.value=g.recipes.filter(T=>v.some(_=>_.id===T.id)).map(T=>T.id),s.value=v}catch(w){let v="Unknown Error";w instanceof Error&&(v=w.message),o.value=v,console.error(w),s.value=[]}(d=b.value)==null||d.open()},p.readAsText(t)}},n.click()},D=()=>{var n;if((n=b.value)==null||n.open(),k.value==="append")if(!f.value)s.value=s.value.filter(t=>!m.value.includes(t.id));else{const t=g.recipes.filter(l=>!m.value.includes(l.id));s.value=[...t,...s.value]}g.setRecipes(s.value)},L=()=>{var n;(n=b.value)==null||n.close(),s.value=[]},U=()=>{const n=g.recipes,t=JSON.stringify(n,null,2),l=new Blob([t],{type:"application/json"}),p=URL.createObjectURL(l),d=document.createElement("a");d.href=p,d.download="recipes.json",d.click(),URL.revokeObjectURL(p),d.remove()};return(n,t)=>(i(),u(M,null,[e("div",{class:"import-export-buttons"},[e("button",{class:"secondary",type:"button",onClick:j},"Import recipes"),e("button",{class:"secondary",type:"button",onClick:U},"Export recipes")]),c(R,{ref_key:"firstModal",ref:a},{"modal-body":r(()=>t[6]||(t[6]=[e("h3",null,"Import Recipes",-1),e("p",null," Important: Before importing new recipes, make sure to export your current recipes to a json file. ",-1)])),"modal-footer":r(()=>[e("button",{class:"secondary danger",type:"button",onClick:t[0]||(t[0]=l=>I("replace"))},"Replace"),e("button",{class:"secondary",type:"button",onClick:t[1]||(t[1]=l=>I("append"))},"Append")]),_:1},512),c(R,{ref_key:"secondModal",ref:b},N({_:2},[s.value.length>0?{name:"modal-body",fn:r(()=>[e("h3",null,x(s.value.length)+" Recipes found!",1),k.value==="append"?(i(),u("p",se," You will have a total of "+x(s.value.length+q(g).recipes.length)+" recipes. ",1)):(i(),u("p",le,"Are you sure you want to replace all your recipes?")),m.value.length>0?(i(),u("div",re,[e("h4",null,x(m.value.length)+" Duplicates found:",1),e("ul",null,[(i(!0),u(M,null,F(m.value.slice(0,9),l=>{var p;return i(),u("li",{key:l},[e("span",null,x((p=q(g).recipes.find(d=>d.id===l))==null?void 0:p.name),1)])}),128))]),e("div",ie,[z(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=l=>f.value=l),value:"false",id:"overwrite"},null,512),[[J,f.value]]),t[7]||(t[7]=e("label",{for:"overwrite"},"Overwrite conflicting recipes (otherwise skip)",-1))])])):V("",!0)]),key:"0"}:{name:"modal-body",fn:r(()=>[t[9]||(t[9]=e("h3",null,"No Recipes found!",-1)),t[10]||(t[10]=e("p",null,"Make sure your file adheres to the recipe json specification.",-1)),o.value?(i(),u("p",ae,[t[8]||(t[8]=e("span",null,"Error: ",-1)),P(" "+x(o.value),1)])):V("",!0)]),key:"1"},s.value.length>0?{name:"modal-footer",fn:r(()=>[e("button",{class:"secondary",type:"button",onClick:t[3]||(t[3]=l=>L())},"Cancel"),e("button",{class:"secondary",type:"button",onClick:t[4]||(t[4]=l=>D())},"Confirm")]),key:"2"}:{name:"modal-footer",fn:r(()=>[e("button",{class:"secondary",type:"button",onClick:t[5]||(t[5]=l=>L())},"Ok")]),key:"3"}]),1536)],64))}}),pe={class:"settings body"},me=E({__name:"SettingsView",emits:["panelContent"],setup(C,{emit:a}){const b=a;Y(()=>{b("panelContent",{source:"settings",value:!0})});const s=G(),k=H();return(m,o)=>(i(),u(M,null,[o[12]||(o[12]=e("div",{class:"header"},null,-1)),e("div",pe,[c($,{modelValue:q(s).isDark,"onUpdate:modelValue":o[0]||(o[0]=f=>q(s).isDark=f)},{"handle-content":r(()=>[q(s).isDark?(i(),S(Q,{key:0})):(i(),S(ne,{key:1}))]),"body-content":r(()=>o[2]||(o[2]=[e("span",null,"Dark Mode",-1),e("p",null,"Toggle the dark mode",-1)])),_:1},8,["modelValue"]),c($,{modelValue:q(k).settings.recipePreview,"onUpdate:modelValue":o[1]||(o[1]=f=>q(k).settings.recipePreview=f)},{"body-content":r(()=>o[3]||(o[3]=[e("span",null,"Open recipe in preview",-1),e("p",null,"Opens the recipe in a side-panel or bottom sheet.",-1)])),_:1},8,["modelValue"]),o[10]||(o[10]=e("hr",null,null,-1)),c(ue),o[11]||(o[11]=e("hr",null,null,-1)),c(W,{multiple:!1},{default:r(()=>[c(h,null,{header:r(()=>o[4]||(o[4]=[e("span",null,"First Item",-1)])),default:r(()=>[o[5]||(o[5]=e("p",null," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Obcaecati iure similique doloribus nesciunt quaerat neque necessitatibus molestiae laborum quidem commodi! ",-1))]),_:1}),c(h,null,{header:r(()=>o[6]||(o[6]=[e("span",null,"Second Item",-1)])),default:r(()=>[o[7]||(o[7]=e("p",null," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Obcaecati iure similique doloribus nesciunt quaerat neque necessitatibus molestiae laborum quidem commodi! ",-1))]),_:1}),c(h,null,{header:r(()=>o[8]||(o[8]=[e("span",null,"Third Item",-1)])),default:r(()=>[o[9]||(o[9]=e("p",null," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Obcaecati iure similique doloribus nesciunt quaerat neque necessitatibus molestiae laborum quidem commodi! ",-1))]),_:1})]),_:1})])],64))}});export{me as default};
