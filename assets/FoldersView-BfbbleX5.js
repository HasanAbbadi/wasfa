import{u as y,_ as C}from"./FolderCard.vue_vue_type_style_index_0_lang-B7MUZ8Nk.js";import{d as v,r,x as V,N as M,h as x,a as p,f as R,n as B,O as F,T as $,o as c,_ as g,G as w,e as l,j as N,F as f,g as O,l as b,b as h}from"./index-CVtsP_hU.js";const D=v({__name:"ContextMenu",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(_,{expose:o,emit:i}){const s=i,a=r(null),u=r({x:0,y:0}),m=e=>{u.value={x:e.clientX,y:e.clientY}},d=e=>{a.value&&!a.value.contains(e.target)&&s("update:modelValue",!1)};return o({open:e=>{m(e),s("update:modelValue",!0)}}),V(()=>{document.addEventListener("click",d)}),M(()=>{document.removeEventListener("click",d)}),(e,t)=>(c(),x($,{to:"body"},[e.modelValue?(c(),p("div",{key:0,ref_key:"menuRef",ref:a,class:"context-menu",style:B({left:`${u.value.x}px`,top:`${u.value.y+14}px`})},[F(e.$slots,"default")],4)):R("",!0)]))}}),E=g(D,[["__scopeId","data-v-4a5e2ec4"]]),L={class:"folders-grid body"},I=v({__name:"FoldersView",setup(_){y();const o=r(!1),i=r(),s=r(""),a=(n,e)=>{var t;n.preventDefault(),s.value=e,(t=i.value)==null||t.open(n)},u=()=>{d()},m=()=>{d()},d=()=>{o.value=!1};return w(o,n=>{n||(s.value="")}),(n,e)=>(c(),p(f,null,[l("div",L,[(c(!0),p(f,null,O(n.folders,t=>(c(),x(C,{key:t.id,folder:t,class:h({selected:t.id===s.value}),onOpencontext:k=>a(k,t.id)},null,8,["folder","class","onOpencontext"]))),128))]),N(E,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),ref_key:"contextMenuRef",ref:i},{default:b(()=>[l("div",{class:"menu-item",onClick:u},e[1]||(e[1]=[l("span",null,"Rename",-1)])),e[3]||(e[3]=l("div",{class:"menu-divider"},null,-1)),l("div",{class:"menu-item",onClick:m},e[2]||(e[2]=[l("span",null,"Delete",-1)]))]),_:1},8,["modelValue"])],64))}});export{I as default};
